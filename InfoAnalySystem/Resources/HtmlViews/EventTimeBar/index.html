<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>事件时间轴</title>

<link rel="stylesheet" href="css/screen.css" type="text/css" media="screen">
<link rel="stylesheet" href="css/responsive.css" type="text/css" media="screen">
<link rel="stylesheet" href="css/eventList.css" type="text/css">
</head>


<body>
<table><tr>
	<td>
<div class="listWrap">
	<div class="listHead">
		<p>搜索事件:</p>
		<div id="searchForm"></div>
	</div>
	<ul class="listContent">
		<li><a href="#">张三</a></li>
	</ul>
</div>
	</td>
	
	
	<td>
	<h1>民权运动1954-1964</h1>
	<div id="timelineContainer" class="timelineContainer">
		<div class="timelineToggle"><p><a class="expandAll">+ 全部展开</a></p></div>

		<div class="timelineMajor">
			<h2 class="timelineMajorMarker"><span>1955</span></h2>
			<dl class="timelineMinor">
				<dt id="19550828"><a>艾莫特·泰尔</a></dt>
				<dd class="timelineEvent" id="19550828EX" style="display:none;">
					<h3>1955年8月28日</h3>
					<p>十四岁的非裔美国人埃米特被残忍杀害后，据说与白人妇女在访问亲戚在密西西比州。这是第一次，黑人和白人记者报道这次审判的集大成者”之一的第二十世纪最令人震惊的和持久的故事。”白被告，Roy Bryant和J.W. Milam，都被一个白人陪审团仅67分钟；后来他们详细描述为看杂志（付给他们4000美元）他们杀了为止。母亲坚持开放的棺材，和他残缺的身体，强大的图像引起强烈的反应，在全国和世界。</p>
				</dd><!-- /.timelineEvent -->
			</dl><!-- /.timelineMinor -->
			
			<dl class="timelineMinor">
				<dt id="19551201"><a>罗萨公园</a></dt>
				<dd class="timelineEvent" id="19551201EX" style="display:none;">
					<h3>December 1, 1955</h3>
					<p>
						The arrest of Rosa Parks, a 42-year-old African-American seamstress and civil rights activist who refused to give up her bus seat to a white passenger, sets off a long anticipated bus boycott by residents of Montgomery, Ala. The 13-month protest and ensuing litigation eventually make it to the U.S. Supreme Court, which declares that segregation on public buses is unconstitutional.<sup>4</sup> The Montgomery bus boycott brings the Rev. Dr. Martin Luther King Jr. and his nonviolent approach to social change to the forefront of the civil rights movement.</p>
				</dd><!-- /.timelineEvent -->
			</dl><!-- /.timelineMinor -->
		</div><!-- /.timelineMajor -->

		<br class="clear">
	</div><!-- /#timelineContainer -->
	</td>
</tr></table>

<!-- GLOBAL CORE SCRIPTS -->
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/timeliner.js"></script>
<script type="text/javascript" src="../sql.js"></script>
<!-- 列表搜索逻辑 -->
<script type="text/javascript">
(function($) {
    $.expr[":"].Contains = function(a, i, m) {
        return (a.textContent || a.innerText || "").toUpperCase().indexOf(m[3].toUpperCase()) >= 0;
    };
    function filterList(header, list) {
        //@header 头部元素
        //@list 无需列表
        //创建一个搜素表单
        var searchForm = $("<form>").attr({
            "class":"filterform",
            action:"#"
        }), input = $("<input>").attr({
            "class":"filterinput",
            type:"text"
        });
        $(searchForm).append(input).appendTo(header);
        $(input).change(function() {
            var filter = $(this).val();
            if (filter) {
                $matches = $(list).find("a:Contains(" + filter + ")").parent();
                $("li", list).not($matches).slideUp();
                $matches.slideDown();
            } else {
                $(list).find("li").slideDown();
            }
            return false;
        }).keyup(function() {
            $(this).change();
        });
    }
    $(function() {
        filterList($("#searchForm"), $(".listContent"));
		$.ajax({ url: "http://127.0.0.1:13000/good",
			success: function(data){
				alert(data);
			}
		});
    });
})(jQuery);	
</script>
<!-- sqlite查询数据 -->
<script>
<!-- var xhr = new XMLHttpRequest(); -->
<!-- xhr.open('GET', '../../../data.db', true); -->
<!-- xhr.responseType = 'arraybuffer'; -->
<!-- xhr.onload = function(e) { -->
  <!-- var uInt8Array = new Uint8Array(this.response); -->
  <!-- var db = new SQL.Database(uInt8Array); -->
  <!-- var contents = db.exec("SELECT * FROM 'Event';"); -->
  <!-- // contents is now [{columns:['col1','col2',...], values:[[first row], [second row], ...]}] -->
<!-- }; -->
<!-- xhr.send(); -->

<!-- var sql = window.SQL; -->
<!-- var fso = new ActiveXObject(Scripting.FileSystemObject);  -->
<!-- //文件绝对路径;文件的常数 只读=1,只写=2,追加=8 等权限;是否允许新建；  -->
<!-- var file = fso.createtextfile('../../../data.db',1,false); -->

<!-- var db = new sql.Database(file); -->
<!-- var c = db.exec("SELECT * FROM 'Event';"); -->
</script>
<!-- 时间轴处理逻辑 -->
<script>
	$(document).ready(function() {
		$.timeliner({
			timelineContainer: '#timelineContainer',
			expandAllText: '+ 全部展开',
			collapseAllText: '+ 全部收起'
			<!-- startOpen:['#19550828EX', '#19630828EX'] -->
		});
	});
</script>

</body>
</html>
